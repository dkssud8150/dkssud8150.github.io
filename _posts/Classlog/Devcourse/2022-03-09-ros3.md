---
title:    "[데브코스] 4주차 - 센서장비 기초"
author:
  name: JaeHo YooN
  link: https://github.com/dkssud8150
date: 2022-03-09 15:00:00 +0800
categories: [Classlog, devcourse]
tags: [sensor, ros, devcourse]
toc: True
comments: True
---

<br>

- 센서장치
    - 카메라 센서
    - IMU 센서
    - 라이다 센서
    - 초음파 센서
    - Depth 카메라 센서

<br>

<br>

# 카메라 센서

1080P USB 카메라의 경우
- 170도 어안렌즈 -> 화면이 휘어지지만 openCV 툴을 사용하여 펼 수 있다. 
- CMOS OV2710 Sensor (CCD 카메라가 더 좋긴 하나 비싸고, 전기를 많이 먹는다)
- 120fps (640x480), 30fps (1920x1080) (일반 영화관같은 곳이 24~30fps)
- 빛의 3원색인 RGB를 통해 색을 표현
    - 그림/동영상 데이터는 각 1byte(8bit)로 표현
    - 3개 bytes를 통해 색을 표현 가능
    - full-HD(1920x1080) 화면을 가득 채우는 그림의 크기는  1920x1080 x 3bytes = 6Mytes
    - 흔히 색이 있는 사진을 볼 때, 데이터적으로 보면 흑백으로 표현된 사진이 R/G/B 색을 각가 입혀 이를 다 융합한 것이다.
    <img src="/assets/img/dev/4주차/camera.jpeg">
    
    - 해상도, PPI, 화소수
        - 해상도 이름 : 640x480=SD, 1280x720=HD, 1920x1080=FHD, 2560x1640=QHD, 3840x2160=UHD
        - PPI: 같은 크기안에 몇개의 화소가 들어있는지
        <img src="/assets/img/dev/4주차/ppi.png">
        - 화소: 해상도의 가로x세로를 곱한 것으로 rgb 한 묶음의 갯수를 말한다.

## 카메라 센서의 기능
1. 영상 촬영
    - 연속된 사진을 찍어 이미지파일로 전송하는 것
    - 최대 해상도 : 1920x1080
    <detail open>
        <a> 추가 정보</a>
    640x480 사진을 초당 30장이라 가정할 때
    1. 파일 크기 : 화소수 (640x480 = 30만 화소) x 3bytes = 사진 1장의 파일 크기는 90만 = 0.9Mbytes = 7.2Mbits
    2. 전송속도: 초당 30장 사진찍으므로 1초 동안의 전송 데이터는 0.9M x 30장 = 27Mbytes
    3. 전송 속도는 216Mbps, USB 2.0의 최대 속도는 480Mbps, 실제는 그 절반인 240Mbps가 된다. 따라서 전송에 과부하는 없다. 하지만 실제로는 사진을 압축해서 보내기 때문에 더 높은 해상도와 더 많은 프레임 전송이 가능하다.
    > 그러나 요즘에는 압축 시에는 압축을 또 풀어야 하기 때문에 압축을 하지 않는 추세라고 한다. 테슬라와 같은 회사가 이를 연구하고 있다.
    </detail>
2. 노출도 (exposure)
    - 노출도: 주변 밝기에 따른 이미지 밝기 변화
    - 환경에 따라 노출도를 조절하여 사진을 적절하게 찍을 수 있다.
    - 자율주행의 경우 사람이 적절하다고 하는 것보다 더 낮게, 어둡게 하는 것이 더 잘 인식한다.
3. 자동초점조정 (auto-focus)
    - 자율주행 차량에서는 이 자동초점을 하는 시간이 걸리면 위험하므로 안쓰는 것이 좋다. 광폭으로 사용한다.

<br>

<br>

# IMU 센서 (lnertial Measurement Unit sensor)

관성 측정 장치: 가속도계와 회전속도계, 자력계의 조합을 사용하여 어떤 물체(질량)에 가해지는 힘, 회전 각속도 등을 측정하는 장치다.

센서 종류
- 6축 IMU 센서
    1. 가속도 센서 (Accelerometer) : 직선방향 가속도 감지, 중력가속도 감지
        - MEMS(Micro-Electro-Mechanical Systems) 기술로 만들어지는 센서
        - 반도체 칩 안에 입체적인 구조물을 만듦
        - 이 구조물이 외부의 힘에 따라 움직이는 것을 전기적 신호로 바꾸어 출력
        - X,Y,Z축 방향의 직선 움직임과 기울어짐의 자세 파악
    <img src="/assets/img/dev/4주차/accelerometer.png">

    2. 자이로 센서 (Guroscope)  : 회전속도인 각속도를 감지
        - MEMS 기술 기반으로 만들어짐
        - X,Y,Z축을 기준으로 한 회전 움직임 감지
            - x축을 기준으로 회전 -> rolling
                - 이동방향에 대해 평행한 축 주위의 회전각을 나타낸다. 차량이 코너링할 때 옆으로 기울어지는 것을 감지
            - y축 기준 회전 -> pitching
                - 이동 방향에 대해 수직을 이루는 축 주위의 회전각을 나타낸다. 차량이 언덕을 올라가거나 내려가오는 것을 감지할 수 있다.
            - z축 기준 회전 -> yawing
                - 이동방향에 대해 수직을 이루는 축 주위의 회전각을 나타낸다. 차량의 좌회전/우회전 회전하는 것을 알 수 있다.
                <img src="/assets/img/dev/4주차/3axis_rolling.png">
    <img src="/assets/img/dev/4주차/gyroscope.jpg">

- 9축 IMU 센서
    1. 가속도 센서 (Accelerometer)
    2. 자이로 센서 (Guroscope)
    3. 지자계 센서 (Magnetometer) : N,S극 방향 감지, 동서남북 방위각 감지
        - 3축 나침반과 같이 방위를 알려주는 디지털 나침반 기능을 한다.
    <img src="/assets/img/dev/4주차/magnetometer.png">



---
title:    "[데브코스] 7주차 - OpenCV corner detection and feature point detection "
author:
  name: JaeHo YooN
  link: https://github.com/dkssud8150
date: 2022-03-31 16:40:00 +0800
categories: [Classlog, devcourse]
tags: [devcourse, opencv]
toc: true
comments: true
math: true
image:
  src: /assets/img/dev/week7/day4/main.png
  width: 500
  height: 500
---

<br>

# 코너 검출

코너의 특징
- 평탄한 영역(flat) & 에지(edge)영역은 고유한 위치를 찾기 어렵다
- 코너(corner)는 변별력이 높은 편이며, 영상의 이동 및 회전 변환에 강인하다.

<img src="/corner.png">

특징, 즉 feature은 한 이미지를 표현할 수 있는 속성, 다른 영상과 구분할 수 있는 속성을 말한다. 그래서 한 이미지의 feature map은 고유한 속성을 가진 맵이다. 히스토그램 또한 특징이 된다.

<br>

openCV에서 제공하는 코너 검출 방법이 있다.

<img src="/assets\img\dev\week7\day4\detectionmethod.png">

가장 최근 방법이 FAST로 많이 빠르게 동작한다.

<img src="/assets\img\dev\week7\day4\cornerharris.png">

harris는 코너 점 좌표를 출력하는 것이 아니라 dst에는 입력 영상과 똑같은 크기의 행렬을 출력한다. 이는 float 타입을 가지고 있는데, 이 값이 충분히 크면 이를 코너라고 간주하는 것이다.

<br>

<img src="/assets\img\dev\week7\day4\goodfeaturestotrack.png">

해리스 코너 검출 방법을 기반으로 비최대 억제,NMS를 적용하고, 출력은 vector\<Point2f>로 점들의 좌표를 제공해주기 때문에 다소 편하다. 그러나 해리스 방식을 사용하므로 조금 구시대적이다.

<br>

<img src="/assets\img\dev\week7\day4\fast.png">

주변의 16개 픽셀을 찾아서 그 점보다 9개 정도가 특정 값 이상 이라면 코너라 인식한다.

keypoint클래스라는 것에는 `pt.x`, `pt.y` 라는 객체가 포함되어 있다. threshold가 이 특정 값에 해당하고, NMS를 수행할지 결정할 수 있다.

<br>

[FAST 사이트](https://www.edwardrosten.com/work/fast.html)

<br>

- **GFTT & FAST 적용 코드**

```cpp

```

<img src="/assets\img\dev\week7\day4\gfttfastcode.png">

<img src="/assets\img\dev\week7\day4\gfttfastresult.png">

<img src="/assets\img\dev\week7\day4\gfttfasttime.png">





- 결과 비교

<img src="/assets/img/dev/week7/day4/detectioncompare.png">

FAST 방법은 반복 검출률이 대체로 높다. 즉, 처음에 코너라 인식한 것은 다음에도 검출할 확률이 높다는 것이다. 다만 FAST 방법은 노이즈에 민감하다.



<br>

<br>


<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="[데브코스] 4주차 - ROS Develop Pygame" /><meta name="author" content="JaeHo YooN" /><meta property="og:locale" content="en" /><meta name="description" content="Do focus on developing ‘your ability’ rather than waste time on making you famous." /><meta property="og:description" content="Do focus on developing ‘your ability’ rather than waste time on making you famous." /><link rel="canonical" href="https://dkssud8150.github.io/posts/pygame/" /><meta property="og:url" content="https://dkssud8150.github.io/posts/pygame/" /><meta property="og:site_name" content="JaeHo Yoon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-08T18:29:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[데브코스] 4주차 - ROS Develop Pygame" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@JaeHo YooN" /><meta name="google-site-verification" content="znvuGsQGYxMZPBslC4XG6doCYao6Y-fWibfGlcaMHH8" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"JaeHo YooN"},"dateModified":"2022-06-01T19:12:27+09:00","datePublished":"2022-03-08T18:29:00+09:00","description":"Do focus on developing ‘your ability’ rather than waste time on making you famous.","headline":"[데브코스] 4주차 - ROS Develop Pygame","mainEntityOfPage":{"@type":"WebPage","@id":"https://dkssud8150.github.io/posts/pygame/"},"url":"https://dkssud8150.github.io/posts/pygame/"}</script><title>[데브코스] 4주차 - ROS Develop Pygame | JaeHo Yoon</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="JaeHo Yoon"><meta name="application-name" content="JaeHo Yoon"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/shin_chan.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">JaeHo Yoon</a></div><div class="site-subtitle font-italic">Mamba Mentality</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fab fa-angellist ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/dkssud8150" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hoya58150','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://www.notion.so/18490713817d403696812c57d0abe730" aria-label="notion" target="_blank" rel="noopener"> <i class="fab fa-battle-net"></i> </a> <a href="https://www.linkedin.com/in/jaeho-yoon-90b62b230" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.instagram.com/jai_ho8150/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[데브코스] 4주차 - ROS Develop Pygame </span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 500'%3E%3C/svg%3E" data-src="/assets/img/dev/week4/day2/pygame.jpg" class="preview-img bg" alt="Preview Image" width="800" height="500" data-proofer-ignore><h1 data-toc-skip>[데브코스] 4주차 - ROS Develop Pygame</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/dkssud8150">JaeHo YooN</a> </em></div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6611243953442169" crossorigin="anonymous"></script><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-03-08 18:29:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Tue, Mar 8, 2022, 6:29 PM +0900" >Mar 8, 2022</em> </span> <span> Updated <em class="timeago" date="2022-06-01 19:12:27 +0900 " data-toggle="tooltip" data-placement="bottom" title="Wed, Jun 1, 2022, 7:12 PM +0900" >Jun 1, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3170 words"> <em>17 min</em> read</span></div></div></div><div class="post-content"><p><br /></p><h1 id="개발-환경-구축">개발 환경 구축</h1><p>pygame은 python을 통해 게임을 만드는 도구이다. 이를 설치해서 차량 시뮬레이터를 제작할 것이다.</p><p><img data-src="/assets/img/dev/week4/day2/pygame.png" data-proofer-ignore></p><p><br /></p><p>차량의 움직임을 제어하려면 구동 메커니즘을 이해해야 한다. 이를 위해 ackermann steering을 이해해야 할 것이다. 안쪽 바퀴는 많이, 바깥 바퀴는 덜 꺽일 것이다.</p><p><br /></p><p>키보드로 차량을 조종할 수도 있다. 차량은 진짜 차처럼 ackermann steering 방식으로 회전하도록 해야 할 것이고, 진짜 차량의 엑셀/브레이크/핸들처럼 동작시켜야 한다.</p><p><br /></p><p>이를 window + visual studio를 설치하겠다.</p><p><br /></p><h2 id="라이브러리-설치">라이브러리 설치 <a href="#라이브러리-설치" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>라이브러리</p><ul><li>python==3.7.0<li>pygame==1.9.6<div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pip <span class="nb">install </span><span class="nv">pygame</span><span class="o">==</span>1.9.6
</pre></table></code></div></div><li>pip install pillow<div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pip <span class="nb">install </span>pillow
</pre></table></code></div></div><li>numpy<ul><li><a href="https://pypi.org/project/numpy/#files">numpy사이트</a>로 가서 파이썬 3.7로 다운<div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python <span class="nt">-m</span> pip <span class="nb">install</span> .<span class="se">\n</span>umpy-1.20.2-cp37m-win_amd64.whl
</pre></table></code></div></div></ul></ul><h2 id="visual-studio-설치">visual studio 설치 <a href="#visual-studio-설치" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>자신에 맞는 버전을 다운 받으면 된다.</p><p>커뮤니티버전으로 설치하고, <code class="language-plaintext highlighter-rouge">c++를 사용한 데스크톱 개발</code>, <code class="language-plaintext highlighter-rouge">MSVC v141 - VS 2017 C++ ~</code> 클릭</p><p><br /></p><h1 id="pygame-예제">Pygame 예제</h1><p>간단한 집 그리기</p><p><a href="https://kkamikoon.tistory.com/129">https://kkamikoon.tistory.com/129</a></p><p><br /></p><ol><li>pygame 선언 (import)<li>pygame 초기화 (pygame.init())<li>pygame에서 사용할 전역 변수 선언<ul><li>size : x,y 크기<li>screen : pygame.display.set_mode(size)<li>clock : pygame.time.Clock()</ul><li>pygame 메인 루프(while)<ul><li>pygame event 설정<li>pygame 화면 설정<li>사용자 행동</ul></ol><p><br /></p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre><td class="rouge-code"><pre><span class="c1"># pygame_draw_house.py
</span>
<span class="s">''' 1. pygame 선언 '''</span>
<span class="c1"># Import a library of functions called 'pygame' as pg
</span><span class="kn">import</span> <span class="n">pygame</span> <span class="k">as</span> <span class="n">pg</span>

<span class="s">''' 2. pygame 초기화 '''</span>
<span class="c1"># Initialize the game engine
</span><span class="n">pygame</span><span class="p">.</span><span class="nf">init</span><span class="p">()</span> 

<span class="s">''' 3. pygame 전역 번수 선언 '''</span>
<span class="c1"># Define the colors we will use in RGB format
</span><span class="n">BLACK</span><span class="o">=</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">)</span>
<span class="n">WHITE</span><span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<span class="n">BLUE</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<span class="n">GREEN</span><span class="o">=</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span>  <span class="mi">0</span><span class="p">)</span>
<span class="n">RED</span>  <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">)</span>
 
<span class="c1"># Set the height and width of the screen
</span><span class="n">size</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span><span class="mi">300</span><span class="p">]</span>
<span class="n">screen</span><span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">set_mode</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
  
<span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">set_caption</span><span class="p">(</span><span class="s">"Game Title"</span><span class="p">)</span>
  
<span class="c1">#Loop until the user clicks the close button.
</span><span class="n">done</span><span class="o">=</span> <span class="bp">False</span> <span class="c1"># while 루프를 빠져나오기 위한 플래그 변수
</span><span class="n">clock</span><span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="nc">Clock</span><span class="p">()</span> <span class="c1"># fps 초당 화면 갱신 회수 지정 용도
</span>
<span class="s">''' 4. pygame 메인 루프 '''</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>  
    <span class="c1"># This limits the while loop to a max of 10 times per second.
</span>    <span class="c1"># Leave this out and we will use all CPU we can.
</span>    <span class="n">clock</span><span class="p">.</span><span class="nf">tick</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 초당 10번 루프를 돌도록 즉, 초당 10번 갱신, fps가 10
</span>     
    <span class="c1"># Main Event Loop
</span>    <span class="k">for</span> <span class="n">eventin</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">():</span><span class="c1"># User did something
</span>        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span><span class="c1"># If user clicked close
</span>            <span class="n">done</span><span class="o">=</span><span class="bp">True</span> <span class="c1"># Flag that we are done so we exit this loop
</span>  
    <span class="c1"># All drawing code happens after the for loop and but
</span>    <span class="c1"># inside the main while done==False loop.
</span>      
    <span class="c1"># Clear the screen and set the screen background
</span>    <span class="n">screen</span><span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>
 
    <span class="s">'''
    Your Work.....
    '''</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">polygon</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">,</span> <span class="p">[[</span><span class="mi">30</span><span class="p">,</span><span class="mi">150</span><span class="p">],</span> <span class="p">[</span><span class="mi">125</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">220</span><span class="p">,</span><span class="mi">150</span><span class="p">]],</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># (window, color, coordinates, thickness)
</span>    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">polygon</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">GREEN</span><span class="p">,</span> <span class="p">[[</span><span class="mi">30</span><span class="p">,</span><span class="mi">150</span><span class="p">],</span> <span class="p">[</span><span class="mi">125</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">220</span><span class="p">,</span><span class="mi">150</span><span class="p">]],</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">lines</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">RED</span><span class="p">,</span><span class="bp">False</span><span class="p">,</span> <span class="p">[[</span><span class="mi">50</span><span class="p">,</span><span class="mi">150</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">250</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="mi">250</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="mi">150</span><span class="p">]],</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">75</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="p">[</span><span class="mi">75</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># 0 이면 안을 채운다.
</span>    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">112</span><span class="p">,</span><span class="mi">175</span><span class="p">],</span> <span class="p">[</span><span class="mi">112</span><span class="p">,</span><span class="mi">225</span><span class="p">],</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">75</span><span class="p">,</span><span class="mi">200</span><span class="p">],</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span><span class="mi">200</span><span class="p">],</span><span class="mi">5</span><span class="p">)</span>
 
    <span class="c1"># Go ahead and update the screen with what we've drawn.
</span>    <span class="c1"># This MUST happen after all the other drawing commands.
</span>    <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">flip</span><span class="p">()</span>

<span class="c1"># Be IDLE friendly
</span><span class="n">pygame</span><span class="p">.</span><span class="nf">quit</span><span class="p">()</span>
</pre></table></code></div></div><p><br /></p><p>코드 실행</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python pygame_draw_house.py
</pre></table></code></div></div><p><br /></p><h1 id="pygame-예제-2">Pygame 예제 2</h1><p>키보드 입력을 사용하는 예제</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pygmae</span>

<span class="n">pygame</span><span class="p">.</span><span class="nf">init</span><span class="p">()</span>

<span class="n">size</span> <span class="o">=</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span><span class="mi">300</span><span class="p">]</span>
<span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">set_mode</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">pygaem</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">set_caption</span><span class="p">(</span><span class="s">"Game Titie"</span><span class="p">)</span>

<span class="n">done</span> <span class="o">=</span> <span class="bp">False</span>

<span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="nc">Clock</span><span class="p">()</span>

<span class="n">player_location</span><span class="o">=</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span> <span class="c1"># 초기값
</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">#키를 눌렀을 때 몇 픽셀 가는지
</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
  <span class="n">clock</span><span class="p">.</span><span class="nf">tick</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="c1"># fps
</span>
  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
      <span class="n">done</span> <span class="o">=</span> <span class="bp">True</span> <span class="c1"># QUIT 이면 루프를 빠져나감
</span>
  <span class="n">pressed</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">key</span><span class="p">.</span><span class="nf">get_pressed</span><span class="p">()</span> <span class="c1"># 사용자가 무엇을 눌렀나
</span>
  <span class="k">if</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_UP</span><span class="p">]:</span>
    <span class="n">player_location</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="n">speed</span>

  <span class="k">elif</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_DOWN</span><span class="p">]:</span>
    <span class="n">player_location</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">speed</span>

  <span class="k">if</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_RIGHT</span><span class="p">]:</span>
    <span class="n">player_location</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">speed</span>
  
  <span class="k">elif</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_LEFT</span><span class="p">]:</span>
    <span class="n">player_location</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-=</span> <span class="n">speed</span>

  <span class="n">screen</span><span class="p">.</span><span class="nf">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span> <span class="c1"># 흰색
</span>
  <span class="n">pygame</span><span class="p">.</span><span class="n">draw</span><span class="p">.</span><span class="nf">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span> <span class="n">player_location</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span> <span class="c1"># RGB, 파란색
</span>
  <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">filp</span><span class="p">()</span>

<span class="n">pygame</span><span class="p">.</span><span class="nf">quit</span><span class="p">()</span>
</pre></table></code></div></div><p><br /></p><p><br /></p><h1 id="차랑주행-시뮬레이터-설계">차랑주행 시뮬레이터 설계</h1><h2 id="시뮬레이터-ui">시뮬레이터 UI <a href="#시뮬레이터-ui" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>스크린에 차량을 먼저 표기하고 키보드로 움직이도록 하고자 한다.</p><p>처음 셋팅</p><ol><li>저장된 차량 이미지를 표시<li>처음 위치 셋팅<li>차량 바퀴는 x<li>스크린 크기 1280x720<li>바탕은 검정</ol><p><br /></p><p>행동 감지</p><ul><li>위방향 -&gt; 전진할 때는 가속, 후진할 때는 브레이크<li>아래방향 -&gt; 전진할 때는 브레이크, 후진할 때는 가속<li>오른방향 -&gt; 바퀴를 오른쪽으로 꺽음, 최대 꺽임 각도 30도<li>왼방향 -&gt; 바퀴를 왼쪽으로 꺽음, 최대 꺽임 각도는 -30도<li>스페이스바는 방향 상관없이 브레이크</ul><p><br /></p><p>좌우 핸들링</p><ul><li>좌우 키를 누르고 있으면 바퀴가 조금씩 좌/우로 돌아감<li>키에서 손을 떼면 바퀴가 즉시 정면으로 되돌아와 정렬된다.</ul><p>전진</p><ul><li>위쪽 키를 누르고 있으면 엑셀을 계속 밟는 것처럼 속도가 점점 빨라진다.<li>키에서 손을 떼면 엑셀에서 발을 뗀 것처럼 속도가 점차 줄어서 멈춘다<li>아래 방향을 누르면 브레이크가 걸린 것처럼 속도가 빨리 줄어서 멈춘다.(멈추고도 계속 누르면 후진 가속, 정차시키려면 스페이스바를 누른다)</ul><p>후진</p><ul><li>전과 동<li>키만 반대</ul><p><br /></p><p><br /></p><h2 id="hldhigh-level-design-설계">HLD(High Level Design) 설계 <a href="#hldhigh-level-design-설계" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ol><li>Car 클래스 정의 (위치/자세 정보)<li>pygame 초기화<li>윈도우 타이틀 지정 / 크기 설정<li>전역 변수 설정 / 클래스 객체 생성<li>while not exit_flags:<li>for 루프(pygame.QUIT 이벤트 처리)<li>키 입력값 읽어들여서 if/elif/else 블록에서 처리 7-1. if pressed[pygame.K_UP] : if # 선속도가 음수면 , else # 선속도가 양수면<li>차량의 새로운 위치/자세 계산하고 그림 새로 그리기<li>화면 업데이트</ol><p><br /></p><h2 id="lldlow-level-design-설계">LLD(Low Level Design) 설계 <a href="#lldlow-level-design-설계" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">car</span><span class="p">:</span>
</pre></table></code></div></div><p>car클래스가 가지고 있어야 할 값들</p><ul><li>self.x/y : 현재 x,y좌표<li>self.yaw : 진행방향<li>self.brake_deceleration : 브레이크로 인한 감속 가속도<li>self.free_deceleration : 정지마찰력으로 인한 감속 가속도<li>self.linear_accelation : 선가속도<li>self.linear_velocity : 선속도<li>self.steering_angle : 조향각<li>self.wheel_base : 차량의 휠베이스 길이<li>self.car_img_x : 차량 이미지를 둘러싼 사각형의 좌상단점의 x좌표 # 비스듬히 있을 때는 차량에 딱 맞게 비스듬히가 아닌 x,y 좌표와 평행한 큰 사각형으로 정해야 한다.<li>self.car_img_y : 차량 이미지를 둘러싼 사각형의 좌상단점의 y좌표<li>self.car_x_ori : 차량 이미지 4개 꼭지점의 x좌표들<li><p>self.car_y_ori : 차량 이미지 4개 꼭지점의 y좌표들</p><li>def update(self, dt):<ul><li>선속도 계산 with 선가속도 , 시간<li>각속도 계산 with 선속도 , 휠베이스, 조향각<li>차량진행방향 계산 with 각속도 , 시간<li>이동거리 계산 with 선속도 , 시간<li>새로운 차량위치 계산 with 이동거리 , 차량진행방향<li>차량 이미지 4개 꼭지점 새로운 위치 계산 with 차량진행방향</ul></ul><p><br /></p><h3 id="회전-변환">회전 변환 <a href="#회전-변환" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>선속도 = 이동거리 / 이동시간</p><p>각속도 = 이동각도 / 이동시간</p><p><img data-src="/assets/img/dev/week4/day2/linearvel.jpg" data-proofer-ignore></p><p>선속도 = 회전반지름 x 각속도</p><p><br /></p><p><img data-src="/assets/img/dev/week4/day2/ackermannsteering.png" data-proofer-ignore></p><p>회전 반경 r = 휠베이스 L / tanϴ</p><p>이 때, 휠베이스는 앞바퀴축과 뒷바퀴축간의 거리, ϴ는 조향각이다. 휩베이스는 항상 정해져있고, ϴ는 키를 계속 누르고 있는 만큼 계속 일정하게 추가되면 된다.</p><p><br /></p><p>회전 차량을 그릴 때 회전 없이 이동시킨 후 회전시키는 것이 좋다.</p><p><br /></p><p><img data-src="/assets/img/dev/week4/day2/rollchange.png" data-proofer-ignore></p><p>각도가 ϴ만큼 회전할 때의 좌표가 (x,y) -&gt; (x’,y’) 로 변한다고 생각을 하면, 이를 X,Y 축으로 분할을 해서 생각을 해본다.</p><p>이를 행렬로 나타내면 다음과 같다.</p><p><img data-src="/assets/img/dev/week4/day2/rollchangematrix.jpg" data-proofer-ignore></p><p>x’ = x * cosϴ - y * sinϴ</p><p>y’ = x * sinϴ + y * cosϴ</p><p><br /></p><h3 id="그림-작도">그림 작도 <a href="#그림-작도" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p><img data-src="/assets/img/dev/week4/day2/picture.png" data-proofer-ignore></p><p>이처럼 비스듬히 되면 x,y축과 평행한 사각형으로 생성해야 한다. 따라서, (x1”,y1”) 반드시 알아야 한다.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
</pre><td class="rouge-code"><pre><span class="c1">#!/usr/bin/env python
</span>
<span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">pygame</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">radians</span><span class="p">,</span> <span class="n">degrees</span><span class="p">,</span> <span class="n">copysign</span>

<span class="k">class</span> <span class="nc">car</span><span class="p">:</span>
    <span class="c1"># 생성자 함수
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">yaw</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span><span class="n">max_steering</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">max_acceleration</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">):</span>
        <span class="c1"># initial point(x,y)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

        <span class="c1"># yaw value
</span>        <span class="n">self</span><span class="p">.</span><span class="n">yaw</span> <span class="o">=</span> <span class="n">yaw</span>

        <span class="c1"># max acceleration
</span>        <span class="n">self</span><span class="p">.</span><span class="n">max_acceleration</span> <span class="o">=</span> <span class="n">max_acceleration</span>

        <span class="c1"># max steering
</span>        <span class="n">self</span><span class="p">.</span><span class="n">max_steering</span> <span class="o">=</span> <span class="n">max_steering</span>

        <span class="c1"># down acceleration due to brake (spacebar)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">brake_deceleration</span> <span class="o">=</span> <span class="mi">300</span>

        <span class="c1"># down acceleration due to static friction force (no press key and only pulling excel
</span>        <span class="n">self</span><span class="p">.</span><span class="n">free_deceleration</span> <span class="o">=</span> <span class="mi">50</span>

        <span class="c1"># linear acceleration
</span>        <span class="n">self</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="mf">10.0</span>

        <span class="c1"># linear velocity
</span>        <span class="n">self</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="c1"># max velocity
</span>        <span class="n">self</span><span class="p">.</span><span class="n">max_velocity</span> <span class="o">=</span> <span class="mi">1000</span>

        <span class="c1"># steering
</span>        <span class="n">self</span><span class="p">.</span><span class="n">steering_angle</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="c1"># wheel base (축거 : 앞바퀴축과 뒷바퀴축 사이의 거리)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">wheel_base</span> <span class="o">=</span> <span class="mi">84</span>

        <span class="c1"># car image coordinate (widthxheight = 128x64, car.png)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">car_img_x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">car_img_y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">car_x_ori</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">64</span><span class="p">,</span><span class="o">-</span><span class="mi">64</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">64</span><span class="p">]</span>    <span class="c1"># 1     3
</span>        <span class="n">self</span><span class="p">.</span><span class="n">car_y_ori</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">32</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="o">-</span><span class="mi">32</span><span class="p">,</span><span class="mi">32</span><span class="p">]</span>    <span class="c1"># 2     4
</span>
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span> <span class="c1"># fps를 주는 것, dt를 이용
</span>        <span class="c1"># calculate linear velocity (linear velocity = linear acceleration x dt
</span>        <span class="n">self</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">+=</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">*</span> <span class="n">dt</span><span class="p">)</span>

        <span class="c1"># limit range of linear velocity between -100 and 100
</span>        <span class="n">self</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="o">-</span><span class="n">self</span><span class="p">.</span><span class="n">max_velocity</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">linear_velocity</span><span class="p">),</span> <span class="n">self</span><span class="p">.</span><span class="n">max_velocity</span><span class="p">)</span>

        <span class="n">self</span><span class="p">.</span><span class="n">angular_velocity</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="c1"># steering is not zero
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">steering_angle</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="c1"># calculate the angular velocity, angular velocity = (linear velocity / radius)
</span>            <span class="c1">#                                                  = (linear velocity / wheel base) * tan(thata)
</span>            <span class="n">self</span><span class="p">.</span><span class="n">angular_velocity</span> <span class="o">=</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">/</span> <span class="n">self</span><span class="p">.</span><span class="n">wheel_base</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">tan</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">radians</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">steering_angle</span><span class="p">))</span>

        <span class="c1"># calculate angular distance and add to the angle value (angular velocity x time = angular distance)
</span>        <span class="c1"># angle of movement = angular velocity * time of movement
</span>        <span class="n">self</span><span class="p">.</span><span class="n">yaw</span> <span class="o">+=</span> <span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">degrees</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">angular_velocity</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span><span class="p">)</span>

        <span class="c1"># distance = linear velocity * time of movement
</span>        <span class="n">self</span><span class="p">.</span><span class="n">spatium</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">*</span> <span class="n">dt</span>

        <span class="c1"># get the x,y coordinate using rotational transformation matrix
</span>        <span class="c1"># distance of movement = linear velocity * time of movement
</span>        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">+=</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">spatium</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">radians</span><span class="p">(</span><span class="o">-</span><span class="n">self</span><span class="p">.</span><span class="n">yaw</span><span class="p">)))</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">+=</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">spatium</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">radians</span><span class="p">(</span><span class="o">-</span><span class="n">self</span><span class="p">.</span><span class="n">yaw</span><span class="p">)))</span>

        <span class="c1"># storage space for coordinate of upper left rectangle
</span>        <span class="n">car_x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">car_y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="c1"># x' = x * cosϴ - y * sinϴ
</span>            <span class="c1"># y' = x * sinϴ - y * cosϴ
</span>            <span class="c1"># 회전행렬의 각도는 반시계 방향이 +인데, 자동차는 우회전이 +, 좌회전이 -이기 때문에 -를 붙인 것이다.
</span>            <span class="n">car_x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">car_x_ori</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="o">-</span><span class="nf">radians</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">yaw</span><span class="p">))</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">car_y_ori</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="o">-</span><span class="nf">radians</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">yaw</span><span class="p">))</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="n">x</span>
            <span class="n">car_y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">car_x_ori</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="o">-</span><span class="nf">radians</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">yaw</span><span class="p">))</span> <span class="o">-</span> <span class="n">self</span><span class="p">.</span><span class="n">car_y_ori</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="o">-</span><span class="nf">radians</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">yaw</span><span class="p">))</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span>

        <span class="n">self</span><span class="p">.</span><span class="n">car_img_x</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">car_x</span><span class="p">)))</span> <span class="c1"># x1"
</span>        <span class="n">self</span><span class="p">.</span><span class="n">car_img_y</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">car_y</span><span class="p">)))</span> <span class="c1"># y1"
</span>

<span class="n">pygame</span><span class="p">.</span><span class="nf">init</span><span class="p">()</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">set_caption</span><span class="p">(</span><span class="s">"Pygame Car Simulator #1"</span><span class="p">)</span>

<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">720</span>

<span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">set_mode</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>

<span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="nc">Clock</span><span class="p">()</span>

<span class="n">current_dir</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">abspath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
<span class="n">image_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">current_dir</span><span class="p">,</span> <span class="s">"car.png"</span><span class="p">)</span>
<span class="n">car_image</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>

<span class="n">image_scale</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">car_image</span><span class="p">,</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span><span class="mi">64</span><span class="p">))</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="n">image_scale</span><span class="p">,</span> <span class="s">"car.png"</span><span class="p">)</span>

<span class="n">car</span> <span class="o">=</span> <span class="nf">car</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># 초기 위치가 (100,100)
</span>
<span class="n">exit_flags</span> <span class="o">=</span> <span class="bp">False</span>

<span class="k">while</span> <span class="ow">not</span> <span class="n">exit_flags</span><span class="p">:</span>
    <span class="n">clock</span><span class="p">.</span><span class="nf">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span> <span class="c1"># 60fps
</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">clock</span><span class="p">.</span><span class="nf">get_time</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="c1"># fps는 밀리초로 반환되는데 이걸 1000으로 나누어 초로 변환
</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="n">exit_flags</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="n">pressed</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">key</span><span class="p">.</span><span class="nf">get_pressed</span><span class="p">()</span>

    <span class="c1"># if up_key press
</span>    <span class="k">if</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_UP</span><span class="p">]:</span>

        <span class="c1"># linear velocity is negative (now backward)
</span>        <span class="k">if</span> <span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># apply the brake deceleration
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="n">car</span><span class="p">.</span><span class="n">brake_deceleration</span>

        <span class="c1"># linear velocity is positive (now advance)
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># increase the linear acceleration  10 in the + direction
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">+=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">dt</span>

    <span class="c1"># if down_key press
</span>    <span class="k">elif</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_DOWN</span><span class="p">]:</span>
        <span class="c1"># linear velocity is positive (now advance)
</span>        <span class="k">if</span> <span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># apply the brake deceleration
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="o">-</span><span class="n">car</span><span class="p">.</span><span class="n">brake_deceleration</span>

        <span class="c1"># linear velocity is negative (now backward)
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># increase the linear acceleration by 10 in the - direction
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">-=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">dt</span>

    <span class="c1"># if spacebar press
</span>    <span class="k">elif</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_SPACE</span><span class="p">]:</span>
        <span class="c1"># it is because if only give subtraction, we make backward acceleration increase
</span>        <span class="c1"># linear velocity is more than brake_acceleration * dt
</span>        <span class="k">if</span> <span class="nf">abs</span><span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">car</span><span class="p">.</span><span class="n">brake_deceleration</span><span class="p">:</span>
            <span class="c1"># copysign(double x, double y) ==&gt; use the y sign as the abs(x) sign
</span>            <span class="c1"># subtract the brake acceleration at linear acceleration to decrease the linear acceleration
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="o">-</span><span class="nf">copysign</span><span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">brake_deceleration</span><span class="p">,</span> <span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span><span class="p">)</span>

        <span class="c1"># linear velocity is less than brake_acceleration * dt
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># simply, subtract [(linear velocity/dt) = linear acceleration] to make linear velocity be zero
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="o">-</span><span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">/</span> <span class="n">dt</span>

    <span class="c1"># if another key press, apply the free friction force at car
</span>    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># linear velocity is more than free_acceleration * dt
</span>        <span class="k">if</span> <span class="nf">abs</span><span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">car</span><span class="p">.</span><span class="n">free_deceleration</span><span class="p">:</span>
            <span class="c1"># apply the free acceleration, so stop
</span>            <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="o">-</span><span class="nf">copysign</span><span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">free_deceleration</span><span class="p">,</span> <span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span><span class="p">)</span>

        <span class="c1"># linear velocity is less than free_acceleration * dt
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># linear velocity is more than (free deceleration x dt)
</span>            <span class="k">if</span> <span class="n">dt</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># subtract [(linear velocity / dt) = linear acceleration] from linear acceleration, so acceleration is zero
</span>                <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="o">-</span><span class="n">car</span><span class="p">.</span><span class="n">linear_velocity</span> <span class="o">/</span> <span class="n">dt</span>

    <span class="c1"># limit the value of range of linear acceleration between -1000.0 and 1000.0
</span>    <span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">linear_acceleration</span><span class="p">,</span> <span class="n">car</span><span class="p">.</span><span class="n">max_acceleration</span><span class="p">),</span><span class="o">-</span><span class="n">car</span><span class="p">.</span><span class="n">max_acceleration</span><span class="p">)</span>

    <span class="c1"># if right_key press
</span>    <span class="k">if</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_RIGHT</span><span class="p">]:</span>
        <span class="c1"># turn right, subtract (30 x dt)
</span>        <span class="n">car</span><span class="p">.</span><span class="n">steering_angle</span> <span class="o">-=</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">dt</span>

    <span class="c1"># if left_key press
</span>    <span class="k">elif</span> <span class="n">pressed</span><span class="p">[</span><span class="n">pygame</span><span class="p">.</span><span class="n">K_LEFT</span><span class="p">]:</span>
        <span class="c1"># turn right, add (30 x dt)
</span>        <span class="n">car</span><span class="p">.</span><span class="n">steering_angle</span> <span class="o">+=</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">dt</span>

    <span class="c1"># if anything is not pressed
</span>    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># set the steering angle to 0
</span>        <span class="n">car</span><span class="p">.</span><span class="n">steering_angle</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># limit the value of range of steering angle between -30 and 30
</span>    <span class="n">car</span><span class="p">.</span><span class="n">steering_angle</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">steering_angle</span><span class="p">,</span> <span class="n">car</span><span class="p">.</span><span class="n">max_steering</span><span class="p">),</span> <span class="o">-</span><span class="n">car</span><span class="p">.</span> <span class="n">max_steering</span><span class="p">)</span>


    <span class="c1"># update the state of car every unit of time
</span>    <span class="n">car</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

    <span class="n">screen</span><span class="p">.</span><span class="nf">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

    <span class="c1"># rotate the car image
</span>    <span class="n">rotated</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="n">car_image</span><span class="p">,</span> <span class="n">car</span><span class="p">.</span><span class="n">yaw</span><span class="p">)</span>

    <span class="c1"># draw the rotated car image at calculated point
</span>    <span class="n">screen</span><span class="p">.</span><span class="nf">blit</span><span class="p">(</span><span class="n">rotated</span><span class="p">,</span> <span class="p">[</span><span class="n">car</span><span class="p">.</span><span class="n">car_img_x</span><span class="p">,</span> <span class="n">car</span><span class="p">.</span><span class="n">car_img_y</span><span class="p">])</span>

    <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="nf">flip</span><span class="p">()</span>

<span class="n">pygame</span><span class="p">.</span><span class="nf">quit</span><span class="p">()</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div style="text-align: left;"> <a href="http://hits.dwyl.com/dkssud8150.github.io/posts/pygame/" target="_blank"> <img data-src="http://hits.dwyl.com/dkssud8150.github.io/posts/pygame.svg" data-proofer-ignore> </a></div><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/classlog/'>Classlog</a>, <a href='/categories/devcourse/'>devcourse</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/ros/" class="post-tag no-text-decoration" >ros</a> <a href="/tags/pygame/" class="post-tag no-text-decoration" >pygame</a> <a href="/tags/devcourse/" class="post-tag no-text-decoration" >devcourse</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[데브코스] 4주차 - ROS Develop Pygame - JaeHo Yoon&amp;url=https://dkssud8150.github.io/posts/pygame/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[데브코스] 4주차 - ROS Develop Pygame - JaeHo Yoon&amp;u=https://dkssud8150.github.io/posts/pygame/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://dkssud8150.github.io/posts/pygame/&amp;text=[데브코스] 4주차 - ROS Develop Pygame - JaeHo Yoon" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://dkssud8150.github.io/posts/pygame/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6611243953442169" crossorigin="anonymous"></script></div><script src="https://utteranc.es/client.js" repo="dkssud8150/dkssud8150.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/gitpage/">[깃허브 프로필 꾸미기] github 프로필 만들기</a><li><a href="/posts/product/">[깃허브 프로필 꾸미기] productive box 만들기</a><li><a href="/posts/regex/">[데브코스] 2주차 - linux 기초(REGEX)</a><li><a href="/posts/Kfold/">KFold Cross Validation 과 StratifiedKFold</a><li><a href="/posts/cmake/">[데브코스] 17주차 - CMake OpenCV, Eigen, Pangolin install </a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/devcourse/">devcourse</a> <a class="post-tag" href="/tags/deeplearning/">deeplearning</a> <a class="post-tag" href="/tags/cs231n/">CS231N</a> <a class="post-tag" href="/tags/ros/">ros</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/kooc/">kooc</a> <a class="post-tag" href="/tags/opencv/">OpenCV</a> <a class="post-tag" href="/tags/pytorch-tutorial/">pytorch tutorial</a> <a class="post-tag" href="/tags/autonomous-driving/">Autonomous Driving</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/rostutorial/"><div class="card-body"> <em class="timeago small" date="2022-02-28 13:00:00 +0900" >Feb 28, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[데브코스] 3주차 - ROS Abstract and Turtlesim</h3><div class="text-muted small"><p> ROS 기초 ROS 기능 소개 https://www.ros.org ros : robot operating system 오픈소스 로봇 운영체제 소스 무료 공개 개방형 구조 로봇 소프트웨어를 개발하는 데 필요한 소프트웨어의 집합체 소프트웨어 프레임워크 ...</p></div></div></a></div><div class="card"> <a href="/posts/rosturtlesim8/"><div class="card-body"> <em class="timeago small" date="2022-03-01 13:00:00 +0900" >Mar 1, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[데브코스] 3주차 - ROS Turtlesim 8 RACE and MSG Package</h3><div class="text-muted small"><p> ROS turtlesim 8자 주행 # pub8.py #!/usr/bin/env python import rospy from geometry_msgs.msg import Twist turn = 0 rospy.init_node(&#39;my_node&#39;, anonymous=True) pub = rospy.Publisher(&#39;/turtle1/cmd_...</p></div></div></a></div><div class="card"> <a href="/posts/ros_node/"><div class="card-body"> <em class="timeago small" date="2022-03-02 13:00:00 +0900" >Mar 2, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[데브코스] 3주차 - ROS Node Communication programming</h3><div class="text-muted small"><p> 다양한 상황에서의 노드 통신 누락 없이 모두 잘 도착하는지 데이터 크기에 따른 전송속도 도착하는 데이터를 미처 처리하지 못하면? 주기적 발송에서 타임슬롯을 오버하면 어떻게 되나 협업해야 하는 노드를 순서대로 가동시킬 수 있나? 과제 1. 노드간 동기화문제 설명 퍼블리셔와 서브스크라이버간의 데이터를 빠짐없이 잘 보내고 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/package/" class="btn btn-outline-primary" prompt="Older"><p>[데브코스] 4주차 - ROS RVIZ 8 RACE Driving</p></a> <a href="/posts/rviz/" class="btn btn-outline-primary" prompt="Newer"><p>[데브코스] 4주차 - ROS auto driving using Sensor</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">JaeHo YooN</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/devcourse/">devcourse</a> <a class="post-tag" href="/tags/deeplearning/">deeplearning</a> <a class="post-tag" href="/tags/cs231n/">CS231N</a> <a class="post-tag" href="/tags/ros/">ros</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/kooc/">kooc</a> <a class="post-tag" href="/tags/opencv/">OpenCV</a> <a class="post-tag" href="/tags/pytorch-tutorial/">pytorch tutorial</a> <a class="post-tag" href="/tags/autonomous-driving/">Autonomous Driving</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-NC7MWHVXJE"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NC7MWHVXJE'); }); </script>